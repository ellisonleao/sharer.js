(function(m,s){"use strict";var a=function(t){this.elem=t;this.config=null;this.setup()};a.init=function(){var t=s.querySelectorAll("[data-sharer]"),e,r=t.length;for(e=0;e<r;e++){new a(t[e])}};a.prototype={constructor:a,getValue:function(t){var e=this.elem.getAttribute("data-"+t);if(e&&t==="hashtag"){if(!e.startsWith("#")){e="#"+e}}return e===null?"":e},getUrl:function(){var t=this.getValue("url");if(!t){t=s.location.href}var e=this.getValue("params");if(e&&e.length){if(t.indexOf("?")<0){t+="?"}else if(e[0]!=="&"){e="&"+e}t=t+e}return t},setup:function(){this.config=this.getShareConfig();if(!this.config){return}if(this.config.hidden){this.elem.style.display="none";return}this.elem.addEventListener("click",()=>this.share())},getShareConfig:function(){var t=this.getValue("sharer").toLowerCase(),e={facebook:{shareUrl:"https://www.facebook.com/sharer/sharer.php",params:{u:this.getUrl(),hashtag:this.getValue("hashtag"),quote:this.getValue("quote")}},linkedin:{shareUrl:"https://www.linkedin.com/shareArticle",params:{url:this.getUrl(),mini:true}},twitter:{shareUrl:"https://twitter.com/intent/tweet/",params:{text:this.getValue("title"),url:this.getUrl(),hashtags:this.getValue("hashtags"),via:this.getValue("via"),related:this.getValue("related"),in_reply_to:this.getValue("in_reply_to")}},email:{shareUrl:"mailto:"+this.getValue("to"),params:{subject:this.getValue("subject"),body:this.getValue("title")+"\n"+this.getUrl()}},whatsapp:{shareUrl:this.getValue("web")==="true"?"https://web.whatsapp.com/send":"https://wa.me/",params:{phone:this.getValue("to"),text:this.getValue("title")+" "+this.getUrl()}},telegram:{shareUrl:"https://t.me/share",params:{text:this.getValue("title"),url:this.getUrl()}},viber:{shareUrl:"viber://forward",params:{text:this.getValue("title")+" "+this.getUrl()}},line:{shareUrl:"http://line.me/R/msg/text/?"+encodeURIComponent(this.getValue("title")+" "+this.getUrl())},pinterest:{shareUrl:"https://www.pinterest.com/pin/create/button/",params:{url:this.getUrl(),media:this.getValue("image"),description:this.getValue("description")}},tumblr:{shareUrl:"http://tumblr.com/widgets/share/tool",params:{canonicalUrl:this.getUrl(),content:this.getUrl(),posttype:"link",title:this.getValue("title"),caption:this.getValue("caption"),tags:this.getValue("tags")}},hackernews:{shareUrl:"https://news.ycombinator.com/submitlink",params:{u:this.getUrl(),t:this.getValue("title")}},reddit:{shareUrl:"https://www.reddit.com/submit",params:{url:this.getUrl(),title:this.getValue("title")}},vk:{shareUrl:"http://vk.com/share.php",params:{url:this.getUrl(),title:this.getValue("title"),description:this.getValue("caption"),image:this.getValue("image")}},xing:{shareUrl:"https://www.xing.com/social/share/spi",params:{url:this.getUrl()}},buffer:{shareUrl:"https://buffer.com/add",params:{url:this.getUrl(),title:this.getValue("title"),via:this.getValue("via"),picture:this.getValue("picture")}},instapaper:{shareUrl:"http://www.instapaper.com/edit",params:{url:this.getUrl(),title:this.getValue("title"),description:this.getValue("description")}},pocket:{shareUrl:"https://getpocket.com/save",params:{url:this.getUrl()}},mashable:{shareUrl:"https://mashable.com/submit",params:{url:this.getUrl(),title:this.getValue("title")}},mix:{shareUrl:"https://mix.com/add",params:{url:this.getUrl()}},flipboard:{shareUrl:"https://share.flipboard.com/bookmarklet/popout",params:{v:2,title:this.getValue("title"),url:this.getUrl(),t:Date.now()}},weibo:{shareUrl:"http://service.weibo.com/share/share.php",params:{url:this.getUrl(),title:this.getValue("title"),pic:this.getValue("image"),appkey:this.getValue("appkey"),ralateUid:this.getValue("ralateuid"),language:"zh_cn"}},blogger:{shareUrl:"https://www.blogger.com/blog-this.g",params:{u:this.getUrl(),n:this.getValue("title"),t:this.getValue("description")}},baidu:{shareUrl:"http://cang.baidu.com/do/add",params:{it:this.getValue("title"),iu:this.getUrl()}},douban:{shareUrl:"https://www.douban.com/share/service",params:{name:this.getValue("name"),href:this.getUrl(),image:this.getValue("image"),comment:this.getValue("description")}},okru:{shareUrl:"https://connect.ok.ru/dk",params:{"st.cmd":"WidgetSharePreview","st.shareUrl":this.getUrl(),title:this.getValue("title")}},mailru:{shareUrl:"http://connect.mail.ru/share",params:{share_url:this.getUrl(),linkname:this.getValue("title"),linknote:this.getValue("description"),type:"page"}},evernote:{shareUrl:"https://www.evernote.com/clip.action",params:{url:this.getUrl(),title:this.getValue("title")}},skype:{shareUrl:"https://web.skype.com/share",params:{url:this.getUrl(),title:this.getValue("title")}},delicious:{shareUrl:"https://del.icio.us/post",params:{url:this.getUrl(),title:this.getValue("title")}},sms:{shareUrl:"sms://",params:{body:this.getValue("body")}},trello:{shareUrl:"https://trello.com/add-card",params:{url:this.getUrl(),name:this.getValue("title"),desc:this.getValue("description"),mode:"popup"}},messenger:{shareUrl:"fb-messenger://share",params:{link:this.getUrl()}},odnoklassniki:{shareUrl:"https://connect.ok.ru/dk",params:{st:{cmd:"WidgetSharePreview",deprecated:1,shareUrl:this.getUrl()}}},meneame:{shareUrl:"https://www.meneame.net/submit",params:{url:this.getUrl()}},diaspora:{shareUrl:"https://share.diasporafoundation.org",params:{title:this.getValue("title"),url:this.getUrl()}},googlebookmarks:{shareUrl:"https://www.google.com/bookmarks/mark",params:{op:"edit",bkmk:this.getUrl(),title:this.getValue("title")}},qzone:{shareUrl:"https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",params:{url:this.getUrl()}},refind:{shareUrl:"https://refind.com",params:{url:this.getUrl()}},surfingbird:{shareUrl:"https://surfingbird.ru/share",params:{url:this.getUrl(),title:this.getValue("title"),description:this.getValue("description")}},yahoomail:{shareUrl:"http://compose.mail.yahoo.com",params:{to:this.getValue("to"),subject:this.getValue("subject"),body:this.getValue("body")}},wordpress:{shareUrl:"https://wordpress.com/wp-admin/press-this.php",params:{u:this.getUrl(),t:this.getValue("title"),s:this.getValue("title")}},amazon:{shareUrl:"https://www.amazon.com/gp/wishlist/static-add",params:{u:this.getUrl(),t:this.getValue("title")}},pinboard:{shareUrl:"https://pinboard.in/add",params:{url:this.getUrl(),title:this.getValue("title"),description:this.getValue("description")}},threema:{shareUrl:"threema://compose",params:{text:this.getValue("text"),id:this.getValue("id")}},kakaostory:{shareUrl:"https://story.kakao.com/share",params:{url:this.getUrl()}},yummly:{shareUrl:"http://www.yummly.com/urb/verify",params:{url:this.getUrl(),title:this.getValue("title"),yumtype:"button"}},share:{hidden:!navigator.share,handler:t=>navigator.share(t),params:{url:this.getUrl(),title:this.getValue("title"),text:this.getValue("description")}}};return e[t]},share:function(){if(!this.config){return false}this.config.width=this.getValue("width");this.config.height=this.getValue("height");return this.urlSharer(this.config)},urlSharer:function(t){var e=t.params||{},r=Object.keys(e),s,a=r.length>0?"?":"";for(s=0;s<r.length;s++){if(a!=="?"){a+="&"}if(e[r[s]]){a+=r[s]+"="+encodeURIComponent(e[r[s]])}}t.shareUrl+=a;var i=this.getValue("link")==="true";var l=this.getValue("blank")==="true";if(i){if(l){m.open(t.shareUrl,"_blank")}else{m.location.href=t.shareUrl}}else if(t.handler){t.handler(t.params)}else{var h=t.width||600,o=t.height||480,g=m.innerWidth/2-h/2+m.screenX,u=m.innerHeight/2-o/2+m.screenY,n="scrollbars=no, width="+h+", height="+o+", top="+u+", left="+g,p=m.open(t.shareUrl,"",n);if(m.focus){p.focus()}}}};if(s.readyState==="complete"||s.readyState!=="loading"){a.init()}else{s.addEventListener("DOMContentLoaded",a.init)}m.Sharer=a})(window,document);
